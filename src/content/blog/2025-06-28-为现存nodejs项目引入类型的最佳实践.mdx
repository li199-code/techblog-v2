---
title: "jsdocä¸ºNodejs serveré¡¹ç›®å¼•å…¥ç±»å‹"
authors: Jason
date: 2025-06-28
description: "tså¹¶ä¸æ˜¯å”¯ä¸€è§£"
tags: [typescript, nodejs, jsdoc]
---
import LinkCard from "@components/LinkCard.astro";
import Callout from "@components/Callout.astro";

## èƒŒæ™¯

åœ¨å¯¹æ¥å¤–éƒ¨apiæ—¶ï¼Œæ‹¿åˆ°çš„å“åº”objï¼Œå¾€å¾€ç»“æ„æå…¶å¤æ‚ï¼Œå„ç§åµŒå¥—ï¼ŒåŠ ä¸Šå­—æ®µå‘½åä¸è§„èŒƒï¼Œæ— æ³•ç¡®å®šç”¨é€”ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œjsæ•°é‡è¶…è¿‡200è¡Œåï¼Œæ²¡æœ‰ç±»å‹æç¤ºï¼Œå¾ˆå¿«å°±å¿˜äº†å˜é‡æ˜¯å¹²ä»€ä¹ˆçš„äº†ã€‚è¿™æ—¶å€™ç¾éš¾æ€§çš„åæœå°±ä¼šæ˜¾ç°ï¼šè¿è¡Œæ—¶å‡ºç°ç±»å‹é”™è¯¯ï¼Œåå¤å›å¿†å˜é‡å«ä¹‰ï¼Œç­‰ç­‰ã€‚

é‚£ä¹ˆï¼Œå¼•å…¥ç±»å‹å°±ååˆ†å¿…è¦äº†ã€‚ä¸è¿‡æ–°çš„é—®é¢˜æ˜¯ï¼Œå¦‚ä½•ä¸ºä¸€ä¸ªç°å­˜é¡¹ç›®å¼•å…¥ç±»å‹å‘¢ï¼Ÿåœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œé¡¹ç›®æ˜¯ä¸€ä¸ªNodejs serverï¼Œæ‰€æœ‰ä»£ç éƒ½æ˜¯jsï¼Œç”¨tsæ”¹å†™ï¼Œæˆæœ¬å¤ªå¤§ï¼Œè€Œä¸”éœ€è¦é¢å¤–çš„ç¼–è¯‘æ­¥éª¤æ‰èƒ½ä¸Šçº¿ã€‚è¿˜æœ‰é™¤äº†ä¸ªåˆ«å¤æ‚çš„apiéœ€è¦ç±»å‹ï¼Œå¤§éƒ¨åˆ†apiçš„å†…éƒ¨å¹¶ä¸æ¶‰åŠå¤ªè¿‡å¤æ‚çš„é€»è¾‘ã€‚

## jsdoc

tså®˜æ–¹æ–‡æ¡£æœ‰ä¸€ä¸ª[ä¸“é¢˜](https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html)ä»‹ç»åœ¨jsä¸­å¼•å…¥ç±»å‹çš„ï¼Œåˆ†ä¸‰æ­¥èµ°ï¼š

1. åœ¨jsæ–‡ä»¶é¡¶éƒ¨æ·»åŠ `// @ts-check` ï¼ˆè¿™ä¸€æ­¥ä¸ä»…æ˜¯ä¸ºäº†ä½œä¸ºjsdocçš„å‰ç½®æ¡ä»¶ï¼Œè¿˜èƒ½å‘ç°æ‹¼å†™é”™è¯¯ã€undefinedã€é‡å¤å®šä¹‰ç­‰é—®é¢˜ï¼‰
2. æ·»åŠ jsdocæ³¨é‡Š
3. ç”¨tsé‡å†™jsæ–‡ä»¶

@ts-checkå¼€å¯åï¼Œè¿èƒŒç±»å‹æ£€æŸ¥çš„ä»£ç æ‰ä¼šè¢«IDEæŠ¥é”™ã€‚å¦‚æœä¸€äº›é”™è¯¯å¤„ä½ è®¤ä¸ºæ— éœ€æ ‡å‡ºï¼ˆæ¯”å¦‚å¼•ç”¨äº†ä¸€ä¸ªæ²¡æœ‰ç±»å‹æç¤ºçš„å¤–éƒ¨åº“ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨@ts-ignoreæ¥å¿½ç•¥é”™è¯¯ã€‚

jsdocæ˜¯æ³¨é‡Šå½¢å¼æ·»åŠ ç±»å‹çš„ï¼Œè¿™å°±å¸¦æ¥äº†å¾ˆå¤§çš„çµæ´»æ€§ã€‚

### ğŸ“¦ æœ€å¸¸ç”¨çš„ JSDoc è¯­æ³•


#### 1. ç»™å‡½æ•°åŠ æ³¨é‡Š


```js
/**
 * åŠ æ³•å‡½æ•°
 * @param {number} a ç¬¬ä¸€ä¸ªæ•°å­—
 * @param {number} b ç¬¬äºŒä¸ªæ•°å­—
 * @returns {number} è¿”å›ç›¸åŠ ç»“æœ
 */
function add(a, b) {
  return a + b;
}

```

#### 2. ç»™å˜é‡åŠ ç±»å‹


```js
/** @type {string} */
let name = "Lee";

/** @type {number[]} */
let scores = [90, 85, 100];

```

å¸¸ç”¨ç±»å‹ï¼š

| ç±»å‹ | å†™æ³• |
| ---- | ---- |
| æ•°å­— | number |
| å­—ç¬¦ä¸² | string |
| å¸ƒå°”å€¼ | boolean |
| æ•°ç»„ | string[] æˆ– Array&lt;string&gt; |
| å¯¹è±¡ | Object æˆ– `{foo: string, bar: number}` |
| å‡½æ•° | function æˆ–æ›´è¯¦ç»†ç­¾åè§ä¸‹ |
| ä»»æ„ç±»å‹ | * æˆ– any |
| å¯é€‰å‚æ•° | `@param {string} [name]` |
| é»˜è®¤å€¼å‚æ•° |`@param {string} [name="å¼ ä¸‰"]` |
| è¿”å›ç±»å‹ | `@returns {string}` |



#### 3. è‡ªå®šä¹‰å¯¹è±¡ç±»å‹ï¼ˆæ¥å£ï¼‰


```js
/**
 * @typedef {Object} User
 * @property {string} name å§“å
 * @property {number} age å¹´é¾„
 */

/**
 * æ‰“å°ç”¨æˆ·ä¿¡æ¯
 * @param {User} user
 */
function printUser(user) {
  console.log(`${user.name}, ${user.age}`);
}

```


#### 4. ç»™å‡½æ•°ç­¾ååŠ ç±»å‹


```js
/**
 * @param {(a: number, b: number) =&gt; number} fn - æ¥æ”¶ä¸€ä¸ªå‡½æ•°å‚æ•°
 */
function calc(fn) {
  return fn(1, 2);
}

```

### æŠŠjsdocæ”¾åœ¨å•ç‹¬çš„æ–‡ä»¶é‡Œ

ç‹¬ç«‹æ–‡ä»¶æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯é…åˆtsconfigæ”¾åœ¨dtsï¼Œä¸€ç§æ˜¯æ”¾åœ¨jsæ–‡ä»¶ã€‚æˆ‘è®¤ä¸ºjsæ–‡ä»¶æ›´é€‚åˆï¼Œå› ä¸ºå¼•å…¥tsä¼šè®©é¡¹ç›®ç»“æ„å˜å¾—å¾ˆå¥‡æ€ªã€‚åˆ›å»ºä¸€ä¸ª`types.js`æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š

```js
/**
 * @typedef {Object} User
 * @property {string} name å§“å
 * @property {number} age å¹´é¾„
 */
```

ç„¶ååœ¨`index.js`ä¸­å¼•å…¥ï¼š

```js
import './types.js' // è¿è¡Œæ—¶ä¸ä¼šå¯¼å…¥
/**
 * @param {User} user
 */

const user = {
  name: 'å¼ ä¸‰',
  age: 18
}
```

## æ€»ç»“

jsdocæ˜¯å±äºtsç”Ÿæ€ç³»ç»Ÿå†…çš„ç±»å‹å·¥å…·ï¼Œå€ŸåŠ©vscodeç­‰IDEï¼Œä»¥ä½æˆæœ¬äº«å—ç±»å‹ä¾¿åˆ©ã€‚å¯¹äºå¤æ‚çš„ä»£ç ï¼Œå¯ä»¥æŒ‰éœ€å¼•å…¥ï¼Œè€Œä¸å½±å“æ•´ä½“ç»“æ„ã€‚å”¯ä¸€ç¼ºç‚¹å¯èƒ½æ˜¯è¯­æ³•æ¯”typescriptå•°å—¦ä¸€ç‚¹ã€‚